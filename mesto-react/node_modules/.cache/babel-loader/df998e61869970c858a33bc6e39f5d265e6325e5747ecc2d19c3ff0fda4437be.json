{"ast":null,"code":"export class Api {\n  constructor(config) {\n    this._config = config;\n  }\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\n  }\n  getProfile() {\n    return fetch(`${this._config.url}/users/me`, {\n      headers: this._config.headers\n    }).then(res => this._getResponseData(res));\n  }\n  getCards() {\n    return fetch(`${this._config.url}/cards`, {\n      headers: this._config.headers\n    }).then(res => this._getResponseData(res));\n  }\n  editProfile(data) {\n    return fetch(`${this._config.url}/users/me`, {\n      method: 'PATCH',\n      headers: this._config.headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    }).then(res => this._getResponseData(res));\n  }\n  addCard(data) {\n    return fetch(`${this._config.url}/cards`, {\n      method: 'POST',\n      headers: this._config.headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then(res => this._getResponseData(res));\n  }\n  handleControlLikes(request, cardId) {\n    return fetch(`${this._config.url}/cards/${cardId}/likes`, {\n      method: request,\n      headers: this._config.headers\n    }).then(res => this._getResponseData(res));\n  }\n  deleteCard(cardId) {\n    return fetch(`${this._config.url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._config.headers\n    }).then(res => this._getResponseData(res));\n  }\n  editAvatar(link) {\n    return fetch(`${this._config.url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._config.headers,\n      body: JSON.stringify({\n        avatar: link\n      })\n    }).then(res => this._getResponseData(res));\n  }\n}","map":{"version":3,"names":["Api","constructor","config","_config","_getResponseData","res","ok","json","Promise","reject","Error","status","getProfile","fetch","url","headers","then","getCards","editProfile","data","method","body","JSON","stringify","name","about","addCard","link","handleControlLikes","request","cardId","deleteCard","editAvatar","avatar"],"sources":["C:/Users/san4e/dev/mesto-react/mesto-react/src/components/Api.js"],"sourcesContent":["export class Api {\r\n    constructor(config) {\r\n        this._config = config;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n\r\n    getProfile() {\r\n        return fetch(`${this._config.url}/users/me`, {\r\n                headers: this._config.headers\r\n            })\r\n            .then((res) => this._getResponseData(res));\r\n    }\r\n\r\n    getCards() {\r\n        return fetch(`${this._config.url}/cards`, {\r\n            headers: this._config.headers\r\n        })\r\n            .then((res) => this._getResponseData(res))\r\n    }\r\n    editProfile(data) {\r\n        return fetch(`${this._config.url}/users/me`,    {\r\n            method: 'PATCH',\r\n            headers: this._config.headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n            .then((res) => this._getResponseData(res))\r\n    }\r\n\r\n    addCard(data) {\r\n        return fetch(`${this._config.url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._config.headers,\r\n            body: JSON.stringify({\r\n                name:  data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n            .then((res) => this._getResponseData(res))\r\n    }\r\n    handleControlLikes(request, cardId){\r\n        return fetch(`${this._config.url}/cards/${cardId}/likes`, {\r\n            method: request,\r\n            headers: this._config.headers,\r\n        })\r\n            .then((res) => this._getResponseData(res))\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._config.url}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._config.headers,\r\n        })\r\n            .then((res) => this._getResponseData(res))\r\n    }\r\n\r\n    editAvatar(link) {\r\n        return fetch(`${this._config.url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._config.headers,\r\n            body: JSON.stringify({\r\n                avatar: link\r\n            })\r\n        })\r\n            .then((res) => this._getResponseData(res))\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}